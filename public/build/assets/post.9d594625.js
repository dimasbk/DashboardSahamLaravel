$(document).ready(function(){$("#first-dropdown").change(function(){$(this).val()==="a"?($("#emitenSaham").prop("disabled",!0),$("#emitenSaham").val($("#emitenSaham option:first").val())):$("#emitenSaham").prop("disabled",!1)}),$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#post-form").submit(function(i){if(i.preventDefault(),s()){var a=new FormData(this);$.ajax({url:"/post/add",type:"POST",data:a,contentType:!1,processData:!1,beforeSend:function(){$("#submit-button").prop("disabled",!0),$("#submit-button").hide(),$("#loading-spinner").show()},success:function(t){console.log(t),$("#loading-spinner").hide(),$("#submit-button").prop("disabled",!1)},error:function(t,n,e){$("#loading-spinner").hide(),$("#submit-button").prop("disabled",!1),alert("Error submitting post: "+e)},complete:function(){location.reload()}})}});function s(){var i=$("#post-title").val(),a=$("#post-content").val(),t=$("#post-image").val(),n=$('input[name="gender"]:checked').val(),e="";return i.trim()===""?($("#post-title").addClass("is-invalid"),$("#title-invalid-feedback").text("Title is required."),e+=`Title is required.
`):($("#post-title").removeClass("is-invalid"),$("#title-invalid-feedback").text("")),a.trim()===""?($("#post-content").addClass("is-invalid"),$("#content-invalid-feedback").text("Content is required."),e+=`Content is required.
`):($("#post-content").removeClass("is-invalid"),$("#content-invalid-feedback").text("")),n?($("#tag-invalid-feedback").text("Content is required."),e+=`Content is required.
`):$("#tag-invalid-feedback").text(""),t&&!/\.(jpg|jpeg|png)$/i.test(t)?($("#post-image").addClass("is-invalid"),$("#image-invalid-feedback").text("Invalid image file type. Please upload a JPG or PNG file."),e+=`Invalid image file type. Please upload a JPG or PNG file.
`):($("#post-image").removeClass("is-invalid"),$("#image-invalid-feedback").text("")),e===""}});
